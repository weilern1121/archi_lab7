
step 0 (2a):
**	Which function precedes main in execution ? (hint: The assembly code in Lab 4). 
	The func is _start , as described in lab4_start.s in lab4.

**	What is the virtual address to which this function is loaded (hint: use readelf -s) 
Entry point address:               0x4000b5

6: 00000000004000b0     0 NOTYPE  GLOBAL DEFAULT    1 _start
	=>	_start entry_point:	0x400b0


**The ERROR:	entry_point and main() call via _start ->not the same adress



----------------------------------------------------------------------------------
2b:


step1: running the buggy, Segmentation fault


weilern@weilern-VirtualBox:~/CLionProjects/archi-lab7/2$ ./buggy
.�2.+5$� -8�3 2*��)423�
                          ɿ�����������q��EEo���|||||||||||��Mjk����C���PPP4����l�8UV��ג�^{|�����Qno���`�,IJ���%������9���FFF]�)FG����)���666(�����m�8UV��ע�m��


*+����-���:::1�������Nkl���O�12���Y���fff��a~�R���___'}�B�  ���)�

�������$$$&|���G�
'(���P�01�������(((*�

���m�/LM��Α�Spq�����b���Dab���[�:;��� t������&���333s�5RS���Y���fffa�"?@�����b�����$$$�(���555�'���444�
                                                                                                               z���@]^���=������;���HHH��Ebc���d���qqq��Gde����!���...�N���[[[k���xxx�L���YYYu�5RS����0���==='x����e�$AB��Ä�C`a�����Wtu�����Qno���y�8UV���>������@���MMM��Khi���U���bbbbbbbbbbbAAAAAAAAA�����vvvvvvvvw|������������������������������________\\\\\\\\�������������ؠ����������������������������������������������������������������̌�������������������������������������������������������������������������������������~~~~~~~~�|�����������C���PPPAAAAAAAAX�/LM����������������������������Yv?pr�ִ�s�T�}�p8�m9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
                                                                                    �z�7��f"�|&҄2���r/Ѐ?��X�N��Z,׃=�،I��e!ϊ7��?�{2��cɜdd
                                                                                                                                         ȁ"ϊ7��L��V�r@@��]��e ۇB��M
                      �wԋ9��W��U�����K�s�u�?�4�_��΋,ߐB��h���T
                                                                       ��<��u==��Y�l�r%�y*��E�K�uu"݊7��Q�=�Z�qq*ړ4��g�fω:��f��%��E�nѣ<�Y��S�k��g�:�X�/��K�"�KޱJ�B�g���K�Q
ʍ%�a̞I���JJ��R��k�e �z1��W�t       �gρDޮyy!ݖ7��W�S�v-՘1�T��UU�u)ݠq�8	�F�kk�g҄/�x7��l�};��]	�Q�m,Ӏ!҄G�v(��>��t>֦n6���<ݏ:��V
                             �Y��#�=�yș6�Z+�T�q��Y�t�,�F�A�[��浅U%�œZ""ۍ>��M�d�{4ՒC��O�ww0ܑ2��R��l�u�?�0Ř6�[��+�|�1��$�E�<�c���=��S�:�e�  ԁ"ߐD��P�.���#�}M��z@�f)�ȍZ$�}بx>�e(�ĉV#�vʚi.�ƌ(�|L��x>�x;לi6�˚`��\(���W컁�c/�đ`%�Ċ�wG�j���N߮t�]*���X�Z��K�l���U��z
                                                                                                                                   �W$���O�.���L��E͐`/���U+��(�yIݪy?�s
                           �U%���U��b��P ﴁP��]��D��uD
��>�c&�ŊW&�(�_"���S"辐$�v9	؝j9�է;�Y컀M⸊�7֙i8�ʙ_5�'�p@ԡp6
                                                               �j�x;
                                                                    ڟl;ש5�L߮s@ի}	�X��L᷉�6�ɘ]*���g���O��vLćW&븇M#��ڪy>
                                                                                                                                ڠvH�g*�Ɏ[*�Ƙ,��k���S��zP"�Y���Y뺀V(�Fٜl;͜b8i͚i/�u�Ɍ\+���R(��᱀E��}O�y�a&�^0�Z��qAբq7
�?͐`/���V,��&�wGۨw=���p@ԡp6
                            �k
��T�n1Еb1�͟>�v9�؝j9�է-�O��vCخ��D՘h7�ɘ^4�U��|I޴��]-���]#��h�h8̙h.�l��X(���T��X��߯~CۡwI�y֦u:Ҙn@�qĔc(���\.�\ﲂQ��tJ�E؛k:�̗]3�%�{K߬w=�q
�l<
   Нh.�^��R"���N��D�g*�Ɏ[&� �Q��xE֬~
�;՘h7�ɔZ0�$��P��|B�w�]-���Y��T�w���_$���X*�O��{JܧmC�Bʍ],���O%���h8̙d*�e��Q!���M��N�yեt9їm?Ҡ*���Q鯅W�	k0�Ȏd6�Z��N��J��I�uלi4�Т5őT$���P��Q�j:	Λf,�g��M��tA
                              Ҩz�3�ƕZ'���`�{>ݢo:֨:�O��vCԪ|�"嵄I��}O�{بw<	ԚpB�c&�ŊW"辐�;ٜl;͘^4�4єd3�ŐV,��'��Q ��}C���sCפo5
                                                                                                                                   �w
                                                                                                                                     �X(���T��[ﲂQ��tJ�L߮s@
              ѧy�8�˚_,���e�vեt9їm?�Q۞n=Ϛ`�>єd3�ŐV,��,ƉY(���K!���j:	Λf,�e��I��zE
ڤj@�@�|?ߤq;ש�j:                                                                     ��R��Q!���M��Z��xH
םsE�h5�Ș]*���b��"嵅J��}O�yեu:їm?�l/�ϔa+�Ǚ"�Kޮs@
Цx	�AԤi6Ɯn���j:
Ϝf,�a�y<
ڤjj�f%��Z�k)��K��a00��B��]Ȁ1��a��5��rɃVƂ;܉D��U�Y	�t,��Q�xI�q
                                                                   �C�k��~:�^��!�[��+�_��k� �Hڪ�R�hЏ;܌K��rC�b��f��*�a���0�T�q�+�}�G�pA��(���1ޖ7��M�S�v9
�22ߚG��\�b!ӒK�w��
                �9�l=�a��'�G�[�u�3��
�7ˉ�h9�X蹋B����Aɚi4��̈C��g�tń0��|�"���E��J�x
�u�)�GҤ@�u�3��!�L���H�_�|3��I�[����
�2�_��V�s��,���F                       �A�6Ϣ-�V�t�Ŗ!�<
�e6�Nܭ:�oǘ#�>�D֜m��/��X����A�\-�e�� ��B�].�S��#��,�Z��~�B�pA�e��+�K�Q��z�6Ѣ+�]���}O�t�D�Jܢs���~�K߰=�rʛ&�A�7�s�v
                                                        �<̝;�dd�`�kϋ6��h��(��d�`�p ԓ?��X
                                                                                            �o*ݘ[���H�e8�Sҏ0��^�s-��`
                                                                                                                         �t&���t(��Q
                                                                                                                                     �N
�%%̀1��^�~+��E؛2�[���S�rȃ*؏A��K���5��_"�O��H�q+���;��C�m0�]��VV	�z6��R�H��cޯ:�U&�K�x�}�=ר3�\�z�j	�7�b��j	�--��?��l�r-��M��T��G��x$ޱyy6��J�H�h"ْ3��B��g"�p�+�BB��M
�m'ޗ8��_
        ǊYY΁.��C��] �I�f�}}*��?��Y�\�s�)ė$�L�p��L��{π<��V�W�|
�ܔE��vG�p�o��*�Y�yy!ݖ7��^
�Z�� ���c�y8��o
�6�S�jjψ:��g*�N�y�44��Y�T�i у$��:ۚV�{(՘#�LԚ9�d�~�F�p�f��Z����5��X��=���P�`�f%ѐ1��R��9
�/�\��S�|�%��G�b3�X�� ���@ۡr���}�Jޯ<�s�m3���?�h9��Z��X��!��@ܭI�q�#��b�{2��9��Q��
                                                                                     �55��Q��_̏��O�j;�p�g��C�nN)��m�x7��a$$̈A��;��P�_ҀC�-���CѢqA���T�e$ˎT$$̈A��J��a�`ׄ9��F	�F�i���U
�b�iց5��J�s�oɆ:��S�r��^��%��%�?�f��qLٹ�!!Ւ3ߖI�_��R؃/鼄�8��H�u8�k
                                                                     �wI��Z-���\�kʁ-ԗh�$���K��k=���3�R�u���`2�,�^�巈&�J�jjjjjjjjjjSegmentation fault (core dumped)


---------------------------------------------------------------------------------------------------------------------
step 2: try to identify where is the entry address saved by the hexeditplus Display method.

weilern@weilern-VirtualBox:~/CLionProjects/archi-lab7/2$ ./hexeditplus
-----------------
Choose action:
1-Set File Name
2-Set Unit Size
3-File Display
4-File Modify
5-Copy From File
6-Quit
-----------------
1
enter file name
buggy
-----------------
Choose action:
1-Set File Name
2-Set Unit Size
3-File Display
4-File Modify
5-Copy From File
6-Quit
-----------------
2
enter unit size
1
-----------------
Choose action:
1-Set File Name
2-Set Unit Size
3-File Display
4-File Modify
5-Copy From File
6-Quit
-----------------
3
Please enter <location> (in hexadecimal) and <length> (in decimal)
0x0 40
Hexadecimal Representation:
7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 02 00 3e 00 01 00 00 00 b5 00 40 00 00 00 00 00 40 00 00 00 00 00 00 00 
Decimal Representation:
127 69 76 70 2 1 1 0 0 0 0 0 0 0 0 0 2 0 62 0 1 0 0 0 181 0 64 0 0 0 0 0 64 0 0 0 0 0 0 0 


---------------------------------------------------------------------------------------------------------------------
step 3: 
Now after getting the location of b5 - the 25th byte (which is the location of entry point) there is a need to change it to b0 (as shown in the beggining to the adress of _strat). for changing I used the file modify of hexediplus func.


-----------------
Choose action:
1-Set File Name
2-Set Unit Size
3-File Display
4-File Modify
5-Copy From File
6-Quit
-----------------
4
Please enter <location> <val> (both in hexadecimal)
18 b0
-----------------
Choose action:
1-Set File Name
2-Set Unit Size
3-File Display
4-File Modify
5-Copy From File
6-Quit
-----------------
3
Please enter <location> (in hexadecimal) and <length> (in decimal)
0x0 40
Hexadecimal Representation:
7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 02 00 3e 00 01 00 00 00 b0 00 40 00 00 00 00 00 40 00 00 00 00 00 00 00 
Decimal Representation:
127 69 76 70 2 1 1 0 0 0 0 0 0 0 0 0 2 0 62 0 1 0 0 0 176 0 64 0 0 0 0 0 64 0 0 0 0 0 0 0 
-----------------
Choose action:
1-Set File Name
2-Set Unit Size
3-File Display
4-File Modify
5-Copy From File
6-Quit
-----------------
6

---------------------------------------------------------------------------------------------------------------------
step 4:
After finish the changing and verifying it, run again the buggy.

weilern@weilern-VirtualBox:~/CLionProjects/archi-lab7/2$ ./buggy
To solve any task, just RTFM
weilern@weilern-VirtualBox:~/CLionProjects/archi-lab7/2$ 


